// TEST: Complex program - Fibonacci-like computation
// EXPECTED: Should compile correctly with register allocation
// Tests multiple variables with dependencies

def main with input n output result as
  a = 0;
  b = 1;
  counter = n;
  while not counter < 1 do (
    temp = a + b;
    a = b;
    b = temp;
    counter = counter - 1
  );
  result = b
